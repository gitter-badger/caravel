{% extends "layout.html" %}
{% block title %}Listings{% endblock %}
{% block head %}
  {{ super() }}
  <script src="/static/js/continuation.js" type="text/javascript"></script>
  <script src="/static/js/view.js" type=text/javascript></script>
{% endblock %}
{% block content %}
  {% for file in [("list_button.html", "thumbnail_button.html"), ("thumbnail_header.html", "list_header.html")] %}
    {% if loop.first %}
      <button type="button" class="btn btn-default"><a href="{{ url_for('new_listing') }}" style="text-decoration: none; color: black;">New Listing</a></button>
    {% else %}
      <hr>
      <div class="row" id="listings">
    {% endif %}


    {% if loop.first %}
    <div class="btn-group">
      <div class="btn btn-primary" id="thumbnail-toggle">Thumbnails</div>
      <div class="btn btn-default" id="list-toggle">List</div>
    </div>
    {% endif %}


    {% if view == "Thumbnail" %}
      {% include file[0] %}
    {% else %}
      {% if not loop.first %}
        <table class="table">
      {% endif %}
      {% include file[1] %}
    {% endif %}
  {% endfor %}
    {% for listing in listings %}
      {% if view=="List" %}
          {% include "listings/list.html" %}
      {% else %}
        {% include "listings/thumbnail.html" %}
      {% endif %}
    {% endfor %}
    {% if view == "List" %}
      </table>
    {% endif %}
  </div>
{% endblock %}
