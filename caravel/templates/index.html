{% extends "layout.html" %}
{% block title %}Listings{% endblock %}
{% block content %}
  {% set i = 0 %}
  {% for listing in listings %}
    {% set j = i + 1 %}
    {%  if i%4 == 0 %}
      <div class="row row-eq-height">
    {% endif %}
    <div class="col-xs-12 col-md-3" style="margin-left: 10px; margin-right: 10px; margin-bottom:15px; padding:0; background-color: #ffffff;
    border-radius: 5px; border: 1px solid #f5f5f5">
      <div>
        <span> Category </span>
      </div>
      <div>
       <span>{{ listing.posting_time | as_duration }}</span>
      </div>
      <a href="/{{ listing.key }}?q={{ request.args['q']}}">
        {% if listing.thumbnail_url %}
          <img  style="width:100%;"
            src="{{ listing.thumbnail_url | public_url }}"/>
        {% else %}
          <img  style="width:100%;"
                    src="/static/no-image.png"/>
        {% endif %}
      </a>
      <h3 style="background-color: #ffffff">
        <p style="padding-left: 10px;">
          <a href="/{{ listing.key }}?q={{ request.args['q']}}" style="font-size: 15px; font-weight:400; color: black;">
            {{ listing.title }}
          </a>
        </p>
        <p style="font-weight:300; padding-left:10px; font-size:15px"> {{ '${:,.2f}'.format(listing.price / 100) }}</p>
      </h3>
    </div>
    {% if j%4 == 0 %}
      </div>
    {% endif %}
    {%  set i = i + 1 %}
  {% endfor %}
  </div>

  {# TODO (georgeteo): infinite scroll     #}
{% endblock %}